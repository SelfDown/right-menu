{"version":3,"file":"index.esm.js","sources":["../src/config/index.ts","../src/utils/system.ts","../node_modules/rollup-plugin-styles/dist/runtime/inject-css.js","../src/theme/index.ts","../src/utils/getInfo.ts","../src/utils/index.ts","../src/index.ts"],"sourcesContent":["/**\n * 默认配置文件\n */\nexport const ConnectOffset = 5\n\nexport const ATTR_LIST = ['class', 'style']\n\nexport const SPLIT_SYMBOL = {\n  class: ' ',\n  style: ';',\n}\n\nexport const systemDarkTheme = `--shadow-color: #040405;\n--active-shadow-color: #040405;\n\n--border-color: #525253;\n--active-border-color: #525253;\n\n--font-color: #eaeaea;\n--active-font-color: #fff;\n\n--bg-color: #262628;\n--active-bg-color: #68a1f9;\n\n--disabled-font-color: #656668;\n--active-disabled-font-color:#656668;\n\n--disabled-bg-color: #262628;\n--active-disabled-bg-color: #262628;\n\n--split-boder-color: #494a4c;\n\n--menu-skeleton-color: #4c4c4f;\n--menu-skeleton-acitve-color: #444;`\n\nexport const systemLightTheme = `--shadow-color: rgba(0,0,0,.1);\n--active-shadow-color: rgba(0,0,0,.1);\n\n--border-color: #cdcdcd;\n--active-border-color: #cdcdcd;\n\n--font-color: #222;\n--active-font-color: #fff;\n\n--bg-color: #eae8e9;\n--active-bg-color: #68a1f9;\n\n--disabled-font-color: #a8a8a8;\n--active-disabled-font-color:#a8a8a8;\n\n--disabled-bg-color: #eae8e9;\n--active-disabled-bg-color: #eae8e9;\n\n--split-boder-color: #d0cecf;\n\n--menu-skeleton-color: #f5f5f5;\n--menu-skeleton-acitve-color: #fff;\n`\n\nexport const enum LayoutMenuDirection {\n  Left = -1,\n  Right = 1,\n}\n","const userAgent = navigator.userAgent\n\nexport const isWin =\n  navigator.platform === 'Win32' || navigator.platform === 'Windows'\nexport const isMac =\n  navigator.platform === 'Mac68K' ||\n  navigator.platform === 'MacPPC' ||\n  navigator.platform === 'Macintosh' ||\n  navigator.platform === 'MacIntel'\n\nexport const isUnix = navigator.platform === 'X11' && !isWin && !isMac\nexport const isLinux = String(navigator.platform).indexOf('Linux') > -1\n\nexport const isWin2000 =\n  userAgent.indexOf('Windows NT 5.0') > -1 ||\n  userAgent.indexOf('Windows 2000') > -1\nexport const isWinXP =\n  userAgent.indexOf('Windows NT 5.1') > -1 ||\n  userAgent.indexOf('Windows XP') > -1\nexport const isWin2003 =\n  userAgent.indexOf('Windows NT 5.2') > -1 ||\n  userAgent.indexOf('Windows 2003') > -1\nexport const isWinVista =\n  userAgent.indexOf('Windows NT 6.0') > -1 ||\n  userAgent.indexOf('Windows Vista') > -1\nexport const isWin7 =\n  userAgent.indexOf('Windows NT 6.1') > -1 ||\n  userAgent.indexOf('Windows 7') > -1\n\nexport const isWin8 =\n  userAgent.indexOf('Windows NT 8') > -1 || userAgent.indexOf('Windows 8') > -1\nexport const isWin10 =\n  userAgent.indexOf('Windows NT 10') > -1 ||\n  userAgent.indexOf('Windows 10') > -1\n\nexport const getOperatSystem = () => {\n  const osList = {\n    isWin10,\n    isMac,\n    isWin7,\n    isWin8,\n    isWin2003,\n    isWin2000,\n    isWinXP,\n    isWinVista,\n    isWin,\n    isUnix,\n    isLinux,\n  }\n  for (const key in osList) {\n    // @ts-ignore\n    if (osList[key]) {\n      return key\n    }\n  }\n  // 如果没有对应的主题样式，默认引入mac的样式\n  return 'isMac'\n}\n","var e=[],t=[];function n(n,r){if(n&&\"undefined\"!=typeof document){var a,s=!0===r.prepend?\"prepend\":\"append\",d=!0===r.singleTag,i=\"string\"==typeof r.container?document.querySelector(r.container):document.getElementsByTagName(\"head\")[0];if(d){var u=e.indexOf(i);-1===u&&(u=e.push(i)-1,t[u]={}),a=t[u]&&t[u][s]?t[u][s]:t[u][s]=c()}else a=c();65279===n.charCodeAt(0)&&(n=n.substring(1)),a.styleSheet?a.styleSheet.cssText+=n:a.appendChild(document.createTextNode(n))}function c(){var e=document.createElement(\"style\");if(e.setAttribute(\"type\",\"text/css\"),r.attributes)for(var t=Object.keys(r.attributes),n=0;n<t.length;n++)e.setAttribute(t[n],r.attributes[t[n]]);var a=\"prepend\"===s?\"afterbegin\":\"beforeend\";return i.insertAdjacentElement(a,e),e}}export{n as default};\n","import { systemDarkTheme, systemLightTheme } from '../config/index'\nimport { getOperatSystem } from '../utils/system'\n\nimport './index.less'\nimport './theme-mac.less'\nimport './theme-win10.less'\n\nconst systemTheme = window.matchMedia('(prefers-color-scheme: dark)')\n\nconst watchSystemThemeChange = () => {\n  const rootElement = document.querySelector(':root')\n  rootElement &&\n    rootElement.setAttribute(\n      'style',\n      systemTheme.matches ? systemDarkTheme : systemLightTheme,\n    )\n}\n\n// 先判断下当前系统的主题\nwatchSystemThemeChange()\n\nsystemTheme.addEventListener('change', watchSystemThemeChange)\n\nexport const OperatSystem = getOperatSystem()\n","export const setCss = (node: HTMLElement, styles: string): void => {\n  node.style.cssText = node.style.cssText\n    ? (node.style.cssText += styles)\n    : styles\n}\n\nexport const getWidth: (node: HTMLElement) => number = (node) =>\n  node.getBoundingClientRect().width\n\nexport const getHeight: (node: HTMLElement) => number = (node) =>\n  node.getBoundingClientRect().height\n\nexport const getLeft: (node: HTMLElement) => number = (node) =>\n  node.getBoundingClientRect().left\n\nexport const getRight: (node: HTMLElement) => number = (node) =>\n  node.getBoundingClientRect().right\n\nexport const getTop: (node: HTMLElement) => number = (node) =>\n  node.getBoundingClientRect().top\n\nexport const getBottom: (node: HTMLElement) => number = (node) =>\n  node.getBoundingClientRect().bottom\n\nexport const getX: (node: HTMLElement) => number = (node) =>\n  node.getBoundingClientRect().x\n\nexport const getY: (node: HTMLElement) => number = (node) =>\n  node.getBoundingClientRect().y\n\n/**\n * 获取元素在窗口中的几何属性\n * bottom = y + height = top + height\n * right = x + width = left + width\n * @param { HTMLElement | MouseEvent } node 元素\n * @returns { width, height, left, right, top, bottom, x, y }\n */\nexport const computeRectPosition: (node: HTMLElement | MouseEvent) => {\n  x: number\n  y: number\n  width: number\n  height: number\n  left?: number\n  right?: number\n  top?: number\n  bottom?: number\n} = (node) => (node as HTMLElement).getBoundingClientRect?.() || node\n","import { ATTR_LIST, SPLIT_SYMBOL, LayoutMenuDirection } from '../config'\nimport { AttrsType, MenuElement } from '../types'\nimport { computeRectPosition } from './getInfo'\n\n/**\n * 阻止默认事件和冒泡\n * @param { Event } e 事件参数\n * @returns { void }\n */\nexport const preventDefault = (e: Event) => {\n  // 阻止冒泡\n  window.event ? (window.event.cancelBubble = true) : e.stopPropagation()\n  // 阻止默认事件\n  e.preventDefault\n    ? e.preventDefault()\n    : ((window as any).event.returnValue = false)\n}\nconst updatePosition = (el: HTMLElement, x: number, y: number) => {\n  el.style.left = x + 'px'\n  el.style.top = y + 'px'\n}\n\n/**\n * 过滤合法的 dom 属性\n * @param { object } opt 菜单的item\n * @returns { object }\n */\nexport const filterAttrs = (\n  options: AttrsType,\n  params: AttrsType & { [key: string]: any },\n): AttrsType => {\n  const res = {}\n  ATTR_LIST.forEach((key) => {\n    // @ts-ignore\n    if (options[key]) {\n      // @ts-ignore\n      res[key] = options[key]\n    }\n    if (params[key]) {\n      // @ts-ignore\n      if (res[key]) {\n        // @ts-ignore\n        res[key] += SPLIT_SYMBOL[key] + params[key]\n      } else {\n        // @ts-ignore\n        res[key] = params[key]\n      }\n    }\n  })\n  return res\n}\n\nexport const handleCamelCase = (arg: string): string => {\n  return arg.replace(\n    /[A-Z]/g,\n    (res, index) => `${index ? '-' : ''}${res.toLowerCase()}`,\n  )\n}\n\nexport const handleStyle = (\n  params: string | { [key: string]: string },\n): string => {\n  if (typeof params === 'string') return params\n  const res: string[] = []\n  Object.keys(params).forEach((key) => {\n    if (!params[key]) return\n    res.push(`${handleCamelCase(key)}: ${params[key]}`)\n  })\n  return res.join('; ')\n}\n\nexport const layoutMenuPositionEffect = (\n  base: HTMLElement | MouseEvent,\n  menu: MenuElement,\n  direction: LayoutMenuDirection = LayoutMenuDirection.Right,\n): void => {\n  // 计算位置\n  const { width, height } = computeRectPosition(menu)\n  const {\n    x: baseX,\n    y: baseY,\n    width: baseW = 0,\n    height: baseH = 0,\n  } = computeRectPosition(base)\n\n  let currentDirection = direction\n\n  // 从 base:li 的 parentElement:ul（上一级menu）继承 direction\n  if ('parentElement' in base && base.parentElement) {\n    currentDirection = menu.direction =\n      (base.parentElement as MenuElement).direction || currentDirection\n  }\n\n  const layoutToRight = () => {\n    let x = baseX + baseW\n    // 尝试向右布局，判断菜单最右端是否超出屏幕右边缘（视窗宽度）\n    if (menu.offsetWidth + x > window.innerWidth) {\n      x = baseX - width\n      // 右 -> 左\n      menu.direction = LayoutMenuDirection.Left\n    }\n    return x\n  }\n\n  const layoutToLeft = () => {\n    let x = baseX - width\n    // 尝试向左布局，判断菜单最左端是否超出屏幕左边缘（0）\n    if (x < 0) {\n      x = baseX + baseW\n      // 左 -> 右\n      menu.direction = LayoutMenuDirection.Right\n    }\n    return x\n  }\n\n  const layoutToTop = () => {\n    let y = baseY\n    // 尝试向上布局，判断菜单最顶端是否超出屏幕上边缘（视窗高度）\n    if (menu.offsetHeight + y > window.innerHeight) {\n      y = baseY + baseH - height\n    }\n    return y\n  }\n\n  let x\n  switch (currentDirection) {\n    case LayoutMenuDirection.Left:\n      x = layoutToLeft()\n      break\n    case LayoutMenuDirection.Right:\n      x = layoutToRight()\n      break\n    default:\n      throw new Error(`Unsupported direction: ${direction}`)\n  }\n  const y = layoutToTop()\n  updatePosition(menu, x, y)\n}\n\nexport const getValue = (val: string | number): string => {\n  if (typeof val === 'string') {\n    return val\n  } else {\n    return val + 'px'\n  }\n}\n","import { LayoutMenuDirection } from './config'\nimport { OperatSystem } from './theme'\nimport { ConfigType, OptionsType, ItemType, LiType, AttrsType } from './types'\nimport {\n  preventDefault,\n  layoutMenuPositionEffect,\n  filterAttrs,\n  handleStyle,\n  getValue,\n} from './utils'\nimport { version } from '../package.json'\n\nexport { ConfigType, OptionsType }\n\nexport default class RightMenu {\n  private version: string = version\n  private menu: HTMLElement | null = null\n  private config: ConfigType\n  private eventList: Array<[Window | Document, string, LiType['callback']]> = []\n  private menuStyle = {\n    'min-width': '',\n    'max-width': '',\n  }\n\n  constructor(\n    el: ConfigType,\n    options: OptionsType,\n  ) {\n    const config = this.config = typeof el === 'string' ? { el } : el\n    // 设置主题\n    config.theme = config.theme || OperatSystem.toLowerCase().replace(/is/, '') || 'mac'\n    // 如果用户输入的主题名称里包含了 'theme-' 则删除\n    if (config.theme.indexOf('theme-') === 0) {\n      config.theme = config.theme.slice(6)\n    }\n    // 设置菜单最大/最小宽度\n    if (config.minWidth) {\n      this.menuStyle['min-width'] = getValue(config.minWidth)\n    }\n    if (config.maxWidth) {\n      this.menuStyle['max-width'] = getValue(config.maxWidth)\n    }\n    // 获取dom并绑定事件\n    const dom = typeof config.el === 'string' ? document.querySelector(config.el) : config.el\n    dom?.addEventListener('contextmenu', (e) => {\n      const res = typeof options === 'function' ? options(e, config) : options\n      this.init(e as MouseEvent, res)\n    })\n  }\n\n  /**\n   * 组件初始化\n   * @param e 鼠标事件参数\n   * @param thenable 菜单列表\n   * @returns { Promise<void> }\n   */\n  async init(\n    e: MouseEvent,\n    thenable: ItemType[] | Promise<ItemType[]>,\n  ): Promise<void> {\n    // 触发生命周期\n    this.config.beforeInit?.call(this)\n\n    // 开始就要阻止本身的默认事件\n    preventDefault(e)\n\n    // 先移除之前的菜单\n    this.destroyMenu()\n\n    // 创建菜单骨架\n    this.initSkeleton(e)\n\n    // // 统计异步创建前, 有没有点击事件\n    let flag = false\n    const countClick = () => (flag = true)\n    document.addEventListener('mousedown', countClick)\n    // 异步获取到菜单配置项 options\n    const options = await Promise.resolve(thenable)\n    // 清除异步前创建的事件\n    document.removeEventListener('mousedown', countClick)\n    // // 如果异步前有点击次数, 则打断逻辑, 不创建菜单\n    if (flag) return\n\n    // 再次移除骨架屏\n    this.destroyMenu()\n\n    // 开始创建菜单栏\n    this.menu = this.renderMenu(options)\n    // 渲染菜单栏\n    this.initMenu(e, this.menu)\n\n    // 触发生命周期\n    this.config.afterInit?.call(this)\n  }\n\n  /**\n   * 初始化菜单栏\n   * @param { Event } e 事件参数\n   * @param menu { HTMLElement } 菜单标签\n   * @returns { void }\n   */\n  initMenu(e: MouseEvent, menu: HTMLElement): void {\n    // 添加到页面上\n    document.body.appendChild(menu)\n    // 计算一级菜单栏的位置\n    layoutMenuPositionEffect(e, menu, LayoutMenuDirection.Right)\n\n    // 防止菜单组件里点出系统菜单\n    menu.addEventListener('contextmenu', preventDefault)\n    // 窗口 blur 时销毁菜单栏\n    this.addEvent(window, 'blur', this.destroyMenu.bind(this))\n    // 窗口 resize 时销毁菜单栏\n    this.addEvent(window, 'resize', this.destroyMenu.bind(this))\n    // 页面点击时销毁菜单栏\n    this.addEvent(document, 'mousedown', (e) => {\n      // @ts-ignore\n      const hasMenu = e['path']?.some((node: HTMLDivElement) => node === menu)\n      if (!hasMenu) this.destroyMenu()\n    })\n  }\n\n  /**\n   * 创建菜单骨架\n   * @param e 鼠标点击事件\n   */\n  initSkeleton(e: MouseEvent): void {\n    // 创建 dom 元素\n    const children = new Array(3).fill(null).map(() => {\n      return this.createDom('li', { class: 'skeleton' })\n    })\n    const skeleton = this.createDom(\n      'ul',\n      {\n        class: `right-menu-list theme-${this.config.theme}`,\n        style: this.menuStyle,\n      },\n      children,\n    )\n    // 初始化菜单骨架\n    this.initMenu(e, skeleton)\n  }\n\n  /**\n   * 销毁菜单栏/骨架屏\n   * @returns { void }\n   */\n  destroyMenu(): void {\n    const menuList = document.querySelectorAll('.right-menu-list')\n    // 清除所有菜单栏, 有多少清多少\n    menuList && menuList.forEach((item) => {\n      item.parentNode?.removeChild(item)\n    })\n    // 移除所有事件\n    this.removeEvent()\n    this.menu = null\n  }\n\n  /**\n   * 添加事件\n   * @param { Window | Document } target 目标事件源\n   * @param { string } eventName 事件名称\n   * @param { Function } callback 事件回调\n   * @returns { void }\n   */\n  addEvent(\n    target: Window | Document,\n    eventName: string,\n    callback: LiType['callback'],\n  ): void {\n    target.addEventListener(eventName, callback)\n    this.eventList.push([target, eventName, callback])\n  }\n\n  /**\n   * 移除所有事件\n   * @returns { void }\n   */\n  removeEvent(): void {\n    while (this.eventList.length) {\n      const [target, eventName, callback] = this.eventList.shift()!\n      target.removeEventListener(eventName, callback)\n    }\n  }\n\n  /**\n   * 渲染菜单栏\n   * @param { object[] } options\n   * @returns { HTMLElement }\n   */\n  renderMenu(options: ItemType[]): HTMLElement {\n    const children = options.map((item) => {\n      switch (item.type) {\n        case 'hr':\n          return this.createHr(item)\n        case 'li':\n          return this.createLi(item)\n        case 'ul':\n          return this.createUl(item)\n        default:\n          throw new Error('未知的 type 类型 => ' + item['type'])\n      }\n    })\n    return this.createDom(\n      'ul',\n      {\n        class: `right-menu-list theme-${this.config.theme}`,\n        style: this.menuStyle,\n      },\n      children,\n    )\n  }\n\n  /**\n   * 渲染dom\n   * @param { String } [ tagName = 'ul' ] 元素名称\n   * @param { Object } [ attrs = {} ] 元素属性对象\n   * @param { Array } [ children = [] ] 子元素集合\n   * @returns { HTMLElement }\n   */\n  createDom(\n    tagName = 'ul',\n    attrs: AttrsType = {},\n    children: Array<HTMLElement | string> = [],\n  ): HTMLElement {\n    const dom = document.createElement(tagName)\n    // 循环添加属性\n    ;(Object.keys(attrs) as (keyof AttrsType)[]).forEach((key) => {\n      const value = attrs[key]\n      if (!value) return\n      let res = ''\n      switch (key) {\n        case 'style':\n          res = handleStyle(value)\n          break\n        // [TODO:] 这里很奇怪, 按理说 key=class 的时候只剩 string 类型了\n        case 'class':\n          res = value as string\n          break\n      }\n      dom.setAttribute(key, res)\n    })\n    // append所有子元素\n    // [TODO:]bug here  innerHTML 会清除之前 append 的所有 child\n    children.forEach((child) => {\n      if (typeof child === 'string') {\n        dom.innerHTML += child\n      } else if (child.nodeType === 1) {\n        dom.appendChild(child)\n      }\n    })\n    return dom\n  }\n\n  createHr<T extends ItemType & { type: 'hr' }>(opt: T): HTMLElement {\n    const attrs = { class: 'menu-hr' }\n    return this.createDom('li', filterAttrs(opt, attrs))\n  }\n\n  createLi<T extends ItemType & { type: 'li' | 'ul' }>(opt: T): HTMLElement {\n    const span = this.createDom('span', {}, [String(opt.text)])\n    const attrs = {\n      class: [\n        opt.disabled ? 'menu-disabled' : '',\n        opt.type === 'ul' ? 'menu-ul' : '',\n      ].join(' '),\n    }\n    const li = this.createDom('li', filterAttrs(opt, attrs), [span])\n    if (!opt.disabled && opt.type === 'li' && opt.callback) {\n      li.addEventListener('mousedown', (e) => {\n        opt.callback(e)\n        this.destroyMenu()\n      })\n    }\n    return li\n  }\n\n  createUl<T extends ItemType & { type: 'ul' }>(opt: T): HTMLElement {\n    const li = this.createLi(opt)\n    // 添加二级菜单\n    if (opt.children && opt.children.length) {\n      const ul = this.renderMenu(opt.children)\n      li.addEventListener('mouseenter', (e) => {\n        li.appendChild(ul)\n        layoutMenuPositionEffect(li, ul)\n      })\n      li.addEventListener('mouseleave', (e: MouseEvent) => {\n        // @ts-ignore\n        if (!e['toElement']) return\n        // @ts-ignore\n        let curr = e['toElement']\n        while (curr) {\n          // 如果路径里存在 ul 标签, 就不需要销毁\n          if (curr === ul) return\n          curr = curr.parentNode\n        }\n        li.removeChild(ul)\n      })\n    }\n    return li\n  }\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[2]}